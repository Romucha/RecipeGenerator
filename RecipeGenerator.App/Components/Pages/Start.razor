@page "/start"
@using RecipeGenerator.API.Models.Recipes

<div>
    <EditForm Model="@startVM.Recipe" OnSubmit="@RecipeSubmitted">
        <DataAnnotationsValidator/>
        <div>Title:</div>
        <InputText DisplayName="Title" @bind-Value="@startVM.Recipe.Name"/>
        <InputSelect @bind-Value="@startVM.Recipe.CourseType" class="form-control">
            @foreach (var course in startVM.CourseList)
            {
                <option value="@course.Value" title="@course.Description">@course.DisplayName</option>
            }
        </InputSelect>
        <div style="display: flex; flex-direction: column">
            <div style="display: flex; flex-direction: column">
                <div class="btn btn-primary" @onclick="startVM.AddStepCommand.Execute" >Add step</div>
                @if (startVM.StepList?.Count > 0)
                {
     foreach (var step in startVM.StepList)
                    {
                        <div style="display: flex; flex-direction: column">
                            <InputText @bind-Value="@step.Name"/>
                            <InputTextArea @bind-Value="@step.Description" />
                        </div>
                    }
                }
            </div>
            <div style="display: flex; flex-direction: row">
                <input type="submit" class="btn btn-primary" value="Save" />
                <div class="btn btn-cancel" @onclick="startVM.ResetRecipeCommand.ExecuteAsync">Cancel</div>
            </div>
        </div>
    </EditForm>
</div>